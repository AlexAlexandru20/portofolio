{% extends 'base.html' %}
{% block title %}About{% endblock %}
{% block content %}
<!-- Starfield Canvas Background -->
<canvas id="starfield" class="fixed top-0 left-0 w-full h-full z-0 pointer-events-none"></canvas>

<!-- Hero Section -->
<section class="py-12 text-center md:text-left md:grid md:grid-cols-2 md:gap-8 md:items-center max-w-6xl mx-auto px-4" data-aos="fade-up">
  <div class="relative">
    <img
      src="{{ url_for('static', filename='images/about_photo.jpg') }}"
      alt="Developer"
      class="rounded-lg shadow-lg w-full h-96 object-cover mb-6 md:mb-0"
    />
    <div class="absolute inset-0 rounded-lg border-2 border-cyan-400 blur-md opacity-50 animate-pulse"></div>
  </div>
  <div class="bg-white/5 backdrop-blur-md p-6 rounded-xl shadow-lg border border-cyan-500/30">
    <h2 class="text-4xl font-bold glow mb-4">About Me</h2>
    <p class="text-xl text-gray-300 mb-6">
      I'm a passionate fullstack developer with over 3 years of experience crafting dynamic, secure, and user-focused web applications, with a strong emphasis on backend development using modern technologies.
    </p>
    <p class="text-gray-300 mb-6">
      My mission is to build innovative solutions that blend functionality with futuristic design, leveraging tools like Flask, PostgreSQL, and Docker to create scalable, efficient systems. I thrive on solving complex problems and delivering seamless user experiences.
    </p>
  </div>
</section>

<!-- Skills Section -->
<section class="py-12 mb-12" data-aos="fade-up" id="about-skills-section">
  <h3 class="text-3xl font-bold glow text-center mb-8 animate-float">My Technical Skills</h3>
  <div class="max-w-3xl mx-auto px-4 space-y-4">
    {% for skill, width in [('Flask & SQLAlchemy', 90), ('SQL', 85), ('Deep Learning', 75), ('Docker', 60), ('CI/CD & DevOps', 60)] %}
    <div>
      <p class="mb-1 font-semibold">{{ skill }}</p>
      <div class="progress-container bg-gray-700 rounded h-4 overflow-hidden">
        <div class="progress-bar bg-cyan-400 h-4 rounded" data-width="{{ width }}" style="width: 0%;"></div>
      </div>
    </div>
    {% endfor %}
  </div>
</section>

<!-- Experience Timeline -->
<section class="py-12 mb-12" data-aos="fade-up">
  <h3 class="text-3xl font-bold glow text-center mb-12">My Journey</h3>
  <div class="relative max-w-4xl mx-auto px-4 before:absolute before:top-0 before:bottom-0 before:left-8 before:w-1 before:bg-cyan-400 before:animate-glowline">

    <!-- Timeline Item 1 -->
    <div class="relative pl-20 mb-16">
      <div class="absolute w-5 h-5 bg-cyan-300 rounded-full left-6 top-2 animate-pulse shadow-[0_0_10px_2px_#22d3ee]"></div>
      <div class="bg-gray-800/70 backdrop-blur-md p-6 rounded-xl shadow-lg">
        <h4 class="text-xl font-semibold mb-2 text-cyan-300">Fullstack Developer as Freelancer</h4>
        <p class="text-gray-400 text-sm mb-2">Aug 2023 - Present</p>
        <p class="text-gray-300">
          Led development of scalable web applications using Flask, React, and PostgreSQL, improving system performance by 30%.
        </p>
      </div>
    </div>

    <!-- Timeline Item 2 -->
    <div class="relative pl-20 mb-16">
      <div class="absolute w-5 h-5 bg-cyan-300 rounded-full left-6 top-2 animate-pulse shadow-[0_0_10px_2px_#22d3ee]"></div>
      <div class="bg-gray-800/70 backdrop-blur-md p-6 rounded-xl shadow-lg">
        <h4 class="text-xl font-semibold mb-2 text-cyan-300">SysAdmin at HighSchool</h4>
        <p class="text-gray-400 text-sm mb-2">Oct 2022 - Aug 2023</p>
        <p class="text-gray-300">
          Managed and optimized school IT infrastructure, including Linux servers and network systems, while automating administrative tasks with Python scripts, enhancing operational efficiency by 25%.
        </p>
      </div>
    </div>

  </div>
</section>

<!-- Call to Action Banner -->
<section class="py-12 mb-12 text-center" data-aos="fade-up">
  <div class="relative bg-gray-900 bg-opacity-50 rounded-xl shadow-lg max-w-6xl mx-auto px-4 py-20 overflow-hidden">
    <div class="absolute inset-0 z-0">
      <img
        src="{{ url_for('static', filename='images/call-to-action.jpg') }}"
        alt="Call to Action Banner"
        class="w-full h-full object-cover opacity-20 bg-motion"
      />
    </div>
    <div class="relative z-10 flex flex-col items-center justify-center">
      <h3 class="text-3xl font-bold glow text-white mb-4">
        Ready to Build Something Amazing?
      </h3>
      <p class="text-xl text-gray-300 mb-6">
        Let's collaborate to bring your ideas to life with cutting-edge web
        solutions.
      </p>
      <a
        href="/contact"
        class="bg-green-600 hover:bg-green-500 text-white py-3 px-8 rounded-xl text-lg font-semibold transition duration-300"
        >Hire Me Now</a
      >
    </div>
  </div>
</section>

<!-- Footer -->
<footer class="bg-black bg-opacity-80 mt-12 py-8">
  <div
    class="max-w-6xl mx-auto px-4 flex flex-col md:flex-row justify-between items-center space-y-4 md:space-y-0"
  >
    <p class="text-gray-400">Â© 2025 Digital Cyber. All rights reserved.</p>
    <div class="flex space-x-4">
      <a
        href="https://www.linkedin.com/in/alexandru-popica-827902231?utm_source=share&utm_campaign=share_via&utm_content=profile&utm_medium=android_app"
        target="_blank"
        class="hover:text-cyan-500 transition duration-300"
        >LinkedIn</a
      >
      <a
        href="https://github.com/AlexAlexandru20"
        target="_blank"
        class="hover:text-cyan-500 transition duration-300"
        >GitHub</a
      >
    </div>
  </div>
</footer>
{% endblock %}

{% block scripts %}
<script>
  // Animate progress bars when section enters viewport
  function animateProgressBar(progressBar, targetWidth, duration) {
    let currentWidth = 0;
    const increment = targetWidth / (duration / 16);

    function updateWidth() {
      if (currentWidth < targetWidth) {
        currentWidth += increment;
        if (currentWidth > targetWidth) currentWidth = targetWidth;
        progressBar.style.width = currentWidth + "%";
        requestAnimationFrame(updateWidth);
      }
    }
    requestAnimationFrame(updateWidth);
  }

</script>
<script>
      document.addEventListener("DOMContentLoaded", () => {
        const section = document.querySelector("#about-skills-section");
        const progressBars = section.querySelectorAll(".progress-bar");

        const observer = new IntersectionObserver(
          (entries, observer) => {
            entries.forEach((entry) => {
              if (entry.isIntersecting) {
                progressBars.forEach((bar) => {
                  const targetWidth = parseFloat(
                    bar.getAttribute("data-width")
                  );
                  animateProgressBar(bar, targetWidth, 1500);
                });
                observer.unobserve(section);
              }
            });
          },
          { threshold: 0.5 }
        );

        observer.observe(section);
      });

      // Starfield animation interacting with mouse movement
      const canvas = document.getElementById("starfield");
      const ctx = canvas.getContext("2d");
      let stars = [];

      function resizeCanvas() {
        canvas.width = window.innerWidth;
        canvas.height = window.innerHeight;
      }

      function createStars(count) {
        stars = [];
        for (let i = 0; i < count; i++) {
          stars.push({
            x: Math.random() * canvas.width,
            y: Math.random() * canvas.height,
            size: Math.random() * 2,
            angle: Math.random() * Math.PI * 2,
            drift: Math.random() * 0.05,
          });
        }
      }

      let mouseX = window.innerWidth / 2;
      let mouseY = window.innerHeight / 2;

      window.addEventListener("mousemove", (e) => {
        mouseX = e.clientX;
        mouseY = e.clientY;
      });

      window.addEventListener("resize", () => {
        resizeCanvas();
        createStars(150);
      });

      function animateStars() {
        ctx.clearRect(0, 0, canvas.width, canvas.height);
        stars.forEach((star) => {
          let dx = (mouseX - canvas.width / 2) * 0.0005;
          let dy = (mouseY - canvas.height / 2) * 0.0005;
          star.x += dx * star.size;
          star.y += dy * star.size;

          star.x += Math.cos(star.angle) * star.drift;
          star.y += Math.sin(star.angle) * star.drift;

          if (star.x < 0) star.x = canvas.width;
          if (star.x > canvas.width) star.x = 0;
          if (star.y < 0) star.y = canvas.height;
          if (star.y > canvas.height) star.y = 0;

          ctx.beginPath();
          ctx.arc(star.x, star.y, star.size, 0, 2 * Math.PI);
          ctx.fillStyle = `rgba(255, 255, 255, ${0.2 + star.size / 2})`;
          ctx.fill();
        });
        requestAnimationFrame(animateStars);
      }

      resizeCanvas();
      createStars(150);
      animateStars();
    </script>
{% endblock %}
